# 医院级健康档案系统改进方案

## 一、现状分析

### 当前健康档案包含的信息
- 过敏史（allergies）
- 家族病史（family_history）
- 既往病史（medical_history）
- 用药史（medication_history）
- 备注（remark）
- 附件管理（record_attachment）

### 存在的问题
1. **信息不够全面**：缺少患者基本信息、生命体征、体格检查等
2. **结构化程度低**：大部分字段是文本，不利于数据分析和统计
3. **缺少临床信息**：没有诊断记录、治疗方案、手术记录等
4. **缺少动态跟踪**：无法记录病情变化、复诊记录等

## 二、医院级健康档案应包含的内容

### 1. 基本信息模块（已有，在 patient_info 表）
- ✅ 姓名、性别、年龄、出生日期
- ✅ 身份证号、联系方式
- ✅ 身高、体重、血型
- ✅ 紧急联系人

### 2. 病史信息模块（需完善）
#### 2.1 个人史
- 婚姻状况
- 职业及工作环境
- 生活习惯（吸烟、饮酒、运动）
- 月经史/生育史（女性）

#### 2.2 过敏史（需结构化）
- 过敏原类型（药物/食物/其他）
- 过敏原名称
- 过敏反应
- 严重程度

#### 2.3 家族病史（需结构化）
- 疾病名称
- 患病亲属关系
- 发病年龄

#### 2.4 既往病史（需结构化）
- 疾病名称
- 诊断时间
- 治疗情况
- 是否治愈

### 3. 生命体征记录（新增）
- 血压、心率、呼吸频率
- 体温、血氧饱和度
- 身高、体重、BMI
- 记录时间、记录人

### 4. 体格检查记录（新增）
- 一般情况（意识、精神状态、营养状况）
- 皮肤粘膜
- 淋巴结
- 头颈部检查
- 胸部检查（心肺）
- 腹部检查
- 四肢及脊柱
- 神经系统

### 5. 实验室检查（新增）
- 血常规、尿常规、便常规
- 生化检查（肝功能、肾功能、血脂、血糖等）
- 免疫学检查
- 影像学检查（X光、CT、MRI、B超等）
- 心电图、脑电图等

### 6. 诊断记录（新增）
- 初步诊断
- 确诊诊断
- ICD-10 编码
- 诊断时间
- 诊断医生

### 7. 治疗方案（新增）
- 药物治疗（药品名称、剂量、用法、疗程）
- 手术治疗
- 物理治疗
- 康复治疗
- 其他治疗

### 8. 手术记录（新增）
- 手术名称
- 手术时间
- 手术医生
- 麻醉方式
- 手术过程
- 术后情况

### 9. 住院记录（新增）
- 入院时间、出院时间
- 入院诊断、出院诊断
- 住院天数
- 主治医生
- 住院费用

### 10. 随访记录（新增）
- 随访时间
- 随访方式（门诊/电话/家访）
- 病情变化
- 治疗效果
- 下次随访计划

### 11. 健康评估（新增）
- 健康风险评估
- 慢病管理评估
- 营养评估
- 心理健康评估

### 12. 预防接种记录（新增）
- 疫苗名称
- 接种时间
- 接种剂次
- 接种部位
- 不良反应

## 三、数据库设计方案

### 方案 A：扩展现有表（适合小规模改进）
在 `patient_record` 表中添加更多字段

**优点**：改动小，实施快
**缺点**：表结构臃肿，不利于扩展

### 方案 B：模块化设计（推荐）
将不同类型的信息拆分到不同的表

**优点**：结构清晰，易于维护和扩展
**缺点**：表数量增加，查询可能需要多表关联

### 方案 C：混合方案（平衡）
- 基础信息保留在 `patient_record`
- 复杂的、可重复的信息（如检查记录、诊断记录）使用独立表

## 四、实施建议

### 阶段一：核心模块完善（优先级高）
1. **过敏史结构化**
   - 创建 `patient_allergy` 表
   - 支持多条过敏记录
   - 包含过敏原、反应、严重程度等

2. **既往病史结构化**
   - 创建 `patient_disease_history` 表
   - 记录疾病名称、诊断时间、治疗情况

3. **生命体征记录**
   - 创建 `vital_signs` 表
   - 记录血压、心率、体温等

4. **诊断记录**
   - 创建 `diagnosis_record` 表
   - 支持 ICD-10 编码

### 阶段二：临床功能扩展（优先级中）
1. 实验室检查管理
2. 治疗方案管理
3. 手术记录管理
4. 住院记录管理

### 阶段三：健康管理功能（优先级低）
1. 随访管理
2. 健康评估
3. 预防接种管理

## 五、前端界面设计

### 1. 档案总览页面
- 患者基本信息卡片
- 关键健康指标（血压、血糖、BMI等）
- 最近诊断、最近用药
- 快速操作入口

### 2. 详细信息页面（Tab 切换）
- Tab 1: 基本信息
- Tab 2: 病史信息（过敏史、家族史、既往史）
- Tab 3: 生命体征
- Tab 4: 检查记录
- Tab 5: 诊断记录
- Tab 6: 治疗记录
- Tab 7: 附件管理

### 3. 时间轴视图
- 按时间顺序展示所有医疗事件
- 包括就诊、检查、诊断、治疗等

## 六、技术实现要点

### 后端
1. 使用 MyBatis-Plus 的多表关联查询
2. 实现数据权限控制（患者只能看自己的，医生可以看所有）
3. 提供数据导出功能（PDF、Excel）
4. 实现数据统计和分析接口

### 前端
1. 使用 Element Plus 的 Tabs、Timeline 组件
2. 实现数据可视化（ECharts）
3. 支持打印和导出
4. 移动端适配

## 七、下一步行动

请选择你希望优先实施的模块：

1. **过敏史结构化** - 创建独立的过敏史表，支持多条记录
2. **既往病史结构化** - 创建疾病史表，记录详细的疾病信息
3. **生命体征记录** - 创建生命体征表，记录血压、心率等
4. **诊断记录管理** - 创建诊断记录表，支持 ICD-10 编码
5. **全部实施** - 一次性实施所有核心模块

或者，你也可以提出其他需求和建议。
