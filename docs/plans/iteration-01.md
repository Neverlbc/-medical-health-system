# Iteration 01（两周）

目标：打通“健康档案 MVP”最小闭环，完善认证与前端主框架，形成可演示的基础系统。

## 范围
- 健康档案模块（后端实体/DAO/服务/接口 + 前端页面）
- 认证与账号体验打磨（错误提示、校验、基本资料）
- 前端主框架（布局、导航、权限守卫、基础样式）

## 任务清单
- 后端
  - 建模：`patient_record`（基本信息、过敏史、家族史、既往史、用药史）、附件表（报告/影像存储元数据） [M]
  - DAO/Service/Controller：档案的增删改查、分页查询、按用户维度隔离 [M]
  - 文件上传接口 `/file/upload`：绑定档案附件（限制类型与大小，返回 URL/ID）[M]
  - 审计字段：创建/修改人、时间；逻辑删除 [S]
  - 权限控制：患者仅可管辖自身，医生/管理员可按规则查看 [M]
- 前端
  - 布局与导航：基础布局（`DefaultLayout.vue`）、左侧菜单、面包屑、用户信息区 [S]
  - 健康档案页面：列表 + 新建/编辑抽屉/弹窗 + 详情页 + 附件上传/预览（Element Plus 组件）[M-L]
  - 表单校验与交互提示（空态、加载、错误）[S]
- 质量与文档
  - 后端单元/集成测试：服务层、控制器基础路径（SpringBootTest + MockMvc）[M]
  - 接口文档梳理：补充档案相关 API 到 `docs/API.md` 并标注“实验/MVP” [S]
  - 开发文档增补：档案领域模型说明至 `docs/DEVELOPMENT.md` [S]

## 验收标准
- 登录后，患者可创建/编辑/浏览自己的健康档案，支持上传报告附件
- 医生/管理员可按条件检索（受授权范围控制）
- 关键接口有集成测试，前端关键流程可完整演示
- 文档更新并可被新人快速上手

## 风险与缓解
- 文件存储选择（本地/对象存储）：MVP 先本地，部署期再抽象适配器
- 角色权限边界：优先实现患者自有数据隔离，医生角色先按简单规则放通

最后更新：2025-11-14

